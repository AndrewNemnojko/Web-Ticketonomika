<div class="dreward-block">
  <h3 class="title">–©–æ–¥–µ–Ω–Ω–∏–π –±–æ–∫—Å</h3>

  <div class="card today-reward" [class]="StateIsAvalible ? 'available' : ''">
    <div class="slot-container" [class.fade-out]="todayState() === 'done'">
      <div class="border-gradient left"></div>
      <div class="rewards-strip" #strip>
        @for (item of rewardsList(); track $index) {
          <div class="reward" [class.winning]="isWinning($index)">
            <img src="{{ item.material | iconMaterial }}" />
            <span class="amount">{{ item.amount }}</span>
            <span class="name">{{ item.material }}</span>
          </div>
        }
      </div>
      <div class="border-gradient right"></div>
    </div>

    @if (todayState() === "available") {
      <div class="overlay">
        <div class="chest" (click)="openBox()">
          <img class="dbox" src="/svg/dbox.svg" />
          <p class="open-btn">–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞–≥–æ—Ä–æ–¥–∞!</p>
        </div>
      </div>
    }

    @if (todayState() === "done" && todayReward()) {
      <div class="overlay">
        <div class="reward-final">
          <div class="reward-card">
            <img src="{{ todayReward()?.material | iconMaterial }}" />
            <span>{{ todayReward()?.amount }}</span>
          </div>
          <h3>
            üåü –í—ñ—Ç–∞—é, –í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ {{ todayReward()?.amount }}
            {{ todayReward()?.material }} üåü
          </h3>
        </div>
      </div>
    }
  </div>
  <div class="card history-rewards">
    <h3>–Ü—Å—Ç–æ—Ä—ñ—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ–≤</h3>
    <div class="history-strip">
      @for (r of rewardsHistory(); track $index) {
        <div class="history-item">
          <div class="reward">
            <img src="{{ r.material | iconMaterial }}" />
            <span>x{{ r.amount }}</span>
          </div>
          <p>{{ r.date | date }}</p>
        </div>
      }
    </div>
  </div>
</div>
